<div class="default-text-color bg-container relative rounded-lg">
    <div class="flex rounded-t border-b p-4 dark:border-gray-600">
        <h1 class="default-text-color-highlight grow text-xl font-semibold">
            @if (portfolio(); as portfolio) {
                <h1 class="default-text-color-highlight grow text-xl font-semibold">More about {{ portfolio.title }}</h1>
            }
        </h1>
        <button (click)="close()" type="button" class="button flex w-8 justify-center">
            <svg class="h-3 w-3 self-center" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
            </svg>
            <span class="sr-only">Close modal</span>
        </button>
    </div>

    <div class="space-y-6 p-6">
        <div class="flex flex-col gap-4">
            @if (portfolio(); as portfolio) {
                <div class="relative h-[30rem] w-full overflow-hidden">
                    @for (portfolioImageSource of portfolio.imageSources.slice(1); track $index) {
                        <input
                            type="radio"
                            name="slider"
                            [id]="'slider' + $index"
                            [checked]="$index == 0"
                            [className]="'checkbox hidden peer/slider' + $index"
                        />
                    }

                    <div
                        class="relative flex h-[100%] w-[300%] transition-all duration-500 ease-in-out peer-checked/slider0:-left-0 peer-checked/slider1:-left-[100%] peer-checked/slider2:-left-[200%]"
                    >
                        @for (portfolioImageSource of portfolio.imageSources.slice(1); track $index) {
                            <div class="relative flex h-full w-full">
                                <img [ngSrc]="portfolioImageSource" class="object-contain" fill />
                            </div>
                        }
                    </div>

                    <div
                        class="absolute bottom-12 flex w-full justify-center gap-2 peer-[&_label:nth-of-type(1)]/slider0:peer-checked/slider0:w-10 peer-[&_label:nth-of-type(2)]/slider1:peer-checked/slider1:w-10 peer-[&_label:nth-of-type(3)]/slider2:peer-checked/slider2:w-10 peer-[&_label:nth-of-type(1)]/slider0:peer-checked/slider0:opacity-100 peer-[&_label:nth-of-type(2)]/slider1:peer-checked/slider1:opacity-100 peer-[&_label:nth-of-type(3)]/slider2:peer-checked/slider2:opacity-100"
                    >
                        @for (portfolioImageSource of portfolio.imageSources.slice(1); track $index) {
                            <label
                                class="z-10 block h-5 w-5 cursor-pointer bg-gradient-to-br from-slate-100 to-gray-600 opacity-50 transition-all duration-300 ease-in-out hover:scale-125 hover:opacity-100"
                                [htmlFor]="'slider' + $index"
                            >
                            </label>
                        }
                    </div>
                </div>
                <div class="text-balance px-4 py-2">
                    <p [innerHTML]="portfolio.description" class="font-semibold"></p>
                </div>
            }
        </div>
    </div>
</div>
